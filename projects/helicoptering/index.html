<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Helicoptering - Seans Portfolio</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Seans Portfolio</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li >
                    <a href="../../about/">About</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li class="active">
    <a href="./">Helicoptering</a>
</li>

                    
                        
<li >
    <a href="../warehouse/">Warehouse Escape</a>
</li>

                    
                        
<li >
    <a href="../shamballs/">Shamballs</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../contact/">Contact</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../../about/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../warehouse/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#projects">Projects</a></li>
        
    
        <li class="main "><a href="#helicoptering-tech-demo">Helicoptering (Tech Demo)</a></li>
        
            <li><a href="#overview">Overview</a></li>
        
            <li><a href="#middleware">Middleware</a></li>
        
            <li><a href="#screenshots">Screenshots</a></li>
        
            <li><a href="#references">References</a></li>
        
            <li><a href="#code-snippet">Code Snippet</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="projects">Projects</h1>
<hr />
<h1 id="helicoptering-tech-demo">Helicoptering (Tech Demo)</h1>
<h2 id="overview">Overview</h2>
<p>Helicoptering was an OpenGl tech demo I created during my second year at university. This was programmed in Java, using OpenGl as middleware.</p>
<p>This demo was very basic but gave me good experience with working in a 3D space, rendering shapes, vector math, and physics behaviour.</p>
<p>The helicopter could be controlled using the keyboard. </p>
<p>Features:
<li>Rotor spin up before taking off
<li>Different view ports - Top down, and follow
<li>Helicopter pitch, roll, yaw as it flew
<li>Rotor wind down once landed
<li>Sky sphere
<li>Day/Night Cycle</p>
<hr />
<h2 id="middleware">Middleware</h2>
<p>The middleware implemented. Click each to see website(Opens in new tab).</p>
<li><a href="http://jogamp.org/jogl/www/" target ="_blank">OpenGl</a></li>

<hr />
<h2 id="screenshots">Screenshots</h2>
<p><img src="../../img/helicoptering/heli2.png" width='640 height='480> 
<p>
<img src="../../img/helicoptering/heli3.png" width='640 height='480> </p>
<hr />
<h2 id="references">References</h2>
<p>Jogamp.org. (2016). JOGL - Java Binding for the OpenGL API. [online] 
<br>Available at: http://jogamp.org/jogl/www/ [Accessed 23 Oct. 2016].</p>
<hr />
<h2 id="code-snippet">Code Snippet</h2>
<pre><code>/**
 * @author Sean Chambers
 * Base helicopter class assembles the helicopter drawing and animates.
 */

public class Helicopter {
    GLUT glut = new GLUT();
    GLU glu = new GLU();

    //Translate
    public double tx=0;
    public double ty=0;
    public double tz=0;

    //Get ground level at helicopter's x,z location
    public Ground ground;
    public double groundLevel =0;

    //Directionals
    public boolean wKey;
    public boolean sKey;
    public boolean aKey;
    public boolean dKey;
    public boolean upKey;
    public boolean downKey;
    public boolean rightKey;
    public boolean leftKey;
    public boolean toggleSpotLight = true;

    //Speeds
    public double forward;
    public double strafe;
    public double altitude;

    //Constants
    //WASD Inputs
    public static final double MAX_WASD_SPEED =10;
    public static final double WASD_SPEED = 5;
    //Rotation
    public static final double ROTATION_SPEED = 50;
    public static final double MAX_ROTATION_SPEED = 100;
    //Pitch and Roll
    public static final double ROLL_PITCH_SPEED = 12.5;
    public static final double MAX_ROLL_PITCH = 25; 
    //Altitude
    public static final double MAX_ALTITUDE_SPEED = 10;
    public static final double ALTITUDE_SPEED = 5;  
    //Rotor speeds
    public static final double ROTOR_SPEED = 500;
    public static final double MAX_ROTOR_SPEED = 2000;
    public static final double LIFT_OFF_SPEED = 1500;

    //Booleans on rotors
    public boolean power;

    //Rotors
    public double rotateDeg;
    public double rotatingSpeed;

    //pitch and roll 
    public double pitch;
    public double roll;

    //create objects

    //Rotors
    public Rotor rotors = new Rotor();

    //spotlight
    public Spotlight spotlight;

    //Textures
    public Texture bodyTexture;

    //Materials
    float ambient[] = {0.2f, 0.2f, 0.2f, 1};
    float diffuse[] = { 1, 0, 0, 1};
    float specular[] = { 1, 1, 1, 1};
    float shininess = 100; 


    public Helicopter(GL gl, Ground ground){
        try {
            bodyTexture = TextureIO.newTexture(
            new File(&quot;./textures/helicopter_body3.jpg&quot;), true);
            } catch ( IOException e ) {
            }
        spotlight = new Spotlight(gl);
        gl.glMaterialfv(GL.GL_FRONT, GL.GL_AMBIENT, ambient, 0);
        gl.glMaterialfv(GL.GL_FRONT, GL.GL_DIFFUSE, diffuse, 0);
        gl.glMaterialfv(GL.GL_FRONT, GL.GL_SPECULAR, specular, 0);
        gl.glMaterialf(GL.GL_FRONT, GL.GL_SHININESS, shininess);

        this.ground = ground;
    }

    public void animate(double delta){

        //Ground level = the y coordinate of the ground/heightmap*scale + 0.8 (My helicopter's legs.)
        groundLevel = ground.heightMap[(int) (tx+ground.heightMap.length/2)][(int) (tz+ground.heightMap.length/2)]*100 -50+0.8;
        //Main rotor speeds + altitude movement.
        //Increase rotor speed to 2000 then stop increasing.
        if(power == true)
            if(rotors.speed &lt; MAX_ROTOR_SPEED)
                rotors.speed += ROTOR_SPEED*delta;

        //Altitude can be moved once rotors are up to speed.
        if(rotors.speed &gt; LIFT_OFF_SPEED){
            if(upKey &amp;&amp; altitude &lt; MAX_ALTITUDE_SPEED)
                altitude += ALTITUDE_SPEED*delta;
            else if(!upKey &amp;&amp; altitude &gt; 0)
                altitude -= ALTITUDE_SPEED*delta;

            if(downKey &amp;&amp; altitude &gt; -1*MAX_ALTITUDE_SPEED)
                altitude -= ALTITUDE_SPEED*delta;
            else if(!downKey &amp;&amp; altitude &lt; 0)
                altitude += ALTITUDE_SPEED*delta;

            ty += altitude*delta;
        }

        //Rotors power down once at ground level
        if(power == false &amp;&amp; rotors.speed &gt; 0)
            rotors.speed -= ROTOR_SPEED*delta;
        //Resets helicopter to ground level if it goes below.
        if(ty &lt; groundLevel)
            ty = groundLevel;

        //Animate Rotors
        rotors.animate(delta);

        //Check if helicopter is off the ground every frame.
        if(ty &gt; groundLevel){   
            //pitch helicopter
            if(sKey &amp;&amp; pitch &lt; MAX_ROLL_PITCH)
                pitch += ROLL_PITCH_SPEED*delta;
            else if(!sKey &amp;&amp; pitch &gt; 0)
                pitch -= ROLL_PITCH_SPEED*delta;

            if(wKey &amp;&amp; pitch &gt; -1*MAX_ROLL_PITCH)
                pitch -= ROLL_PITCH_SPEED*delta;
            else if(!wKey &amp;&amp; pitch &lt; 0)
                pitch += ROLL_PITCH_SPEED*delta;

            //roll
            if(aKey &amp;&amp; roll &lt; MAX_ROLL_PITCH)
                roll += ROLL_PITCH_SPEED*delta;
            else if(!aKey &amp;&amp; roll &gt; 0)
                roll -= ROLL_PITCH_SPEED*delta;

            if(dKey &amp;&amp; roll &gt; -1*MAX_ROLL_PITCH)
                roll -= ROLL_PITCH_SPEED*delta;
            else if(!dKey &amp;&amp; roll &lt; 0)
                roll += ROLL_PITCH_SPEED*delta; 

            //Rotate around Y axis
            if(leftKey &amp;&amp; rotatingSpeed &lt; MAX_ROTATION_SPEED)
                rotatingSpeed += ROTATION_SPEED*delta;
            else if(!leftKey &amp;&amp; rotatingSpeed &gt; 0)
                rotatingSpeed -= ROTATION_SPEED*delta;

            if(rightKey &amp;&amp; rotatingSpeed &gt; -1*MAX_ROTATION_SPEED)
                rotatingSpeed -= ROTATION_SPEED*delta;
            else if(!rightKey &amp;&amp; rotatingSpeed &lt; 0)
                rotatingSpeed += ROTATION_SPEED*delta;

            rotateDeg += rotatingSpeed*delta;

            //Move helicopter forwards and backwards in direction it's facing.

            if(sKey &amp;&amp; forward &lt; MAX_WASD_SPEED)
                forward += WASD_SPEED*delta;
            if((!sKey &amp;&amp; forward &gt; 0) || forward &gt; MAX_WASD_SPEED)
                forward -= WASD_SPEED*delta;

            if(wKey &amp;&amp; forward &gt; -MAX_WASD_SPEED)
                forward -= WASD_SPEED*delta;
            if((!wKey &amp;&amp; forward &lt; 0) || forward &gt; MAX_WASD_SPEED)
                forward += WASD_SPEED*delta;



            //Strafe helicopter reletive to which it faces. 
            if(dKey &amp;&amp; strafe &lt; MAX_WASD_SPEED)
                strafe += WASD_SPEED*delta;
            if((!dKey &amp;&amp; strafe &gt; 0) || strafe &gt; MAX_WASD_SPEED){
                strafe -= WASD_SPEED*delta;
            }

            if(aKey &amp;&amp; strafe &gt; -MAX_WASD_SPEED)
                strafe -= WASD_SPEED*delta;
            if((!aKey &amp;&amp; strafe &lt; 0)|| strafe &gt; MAX_WASD_SPEED)
                strafe += WASD_SPEED*delta;

            tx += forward*(Math.cos(Math.toRadians(rotateDeg-90)))*delta;
            tz -= forward*(Math.sin(Math.toRadians(rotateDeg-90)))*delta;
            tx -= strafe*(Math.cos(Math.toRadians(rotateDeg-180)))*delta;   
            tz += strafe*(Math.sin(Math.toRadians(rotateDeg-180)))*delta;

        }
        else{
            //If helicopter hits the ground, then the helicopter is reset.
            pitch = 0;
            roll = 0;
            strafe = 0;
            forward = 0;
        }


    }

    public void draw(GL gl){    
        gl.glEnable(GL.GL_COLOR_MATERIAL);
        gl.glTranslated(tx, ty, tz);
        //yaw
        gl.glRotated(rotateDeg, 0 , 1 , 0);
        //pitch
        gl.glRotated(pitch, 1 , 0 , 0);
        //roll
        gl.glRotated(roll, 0 , 0 , 1);          
        //BODY
        gl.glPushMatrix();
        Material.RedRubber.draw(gl);
        drawBody(gl);
        gl.glPopMatrix();
        //NOSE
        gl.glPushMatrix();
        drawNose(gl);
        gl.glPopMatrix();
        //TAIL
        gl.glPushMatrix();
        drawTail(gl);
        gl.glPopMatrix();
        //TAIL FIN
        gl.glPushMatrix();
        drawTailFin(gl);
        gl.glPopMatrix();
        //LEGS
        gl.glPushMatrix();
        drawRightLeg(gl);
        gl.glPopMatrix();
        gl.glPushMatrix();
        drawLeftLeg(gl);
        gl.glPopMatrix();
        //FEET
        gl.glPushMatrix();
        drawRightFoot(gl);
        gl.glPopMatrix();   
        gl.glPushMatrix();
        drawLeftFoot(gl);
        gl.glPopMatrix();
        //ROTOR_KNOB
        gl.glPushMatrix();
        rotorKnob(gl);
        gl.glPopMatrix();
        //TOP ROTORS
        gl.glPushMatrix();
        rotors.draw(gl);
        gl.glPopMatrix();
        //TAIL PLUG
        gl.glPushMatrix();
        drawTailPlug(gl);
        gl.glPopMatrix();
        //TAIL ROTOR KNOB
        gl.glPushMatrix();
        drawTailRotorKnob(gl);
        gl.glPopMatrix();
        Material.NeutralWhite.draw(gl);
        //DRAW SPOTLIGHT
        gl.glPushMatrix();
        spotlight.draw(gl);     
        gl.glPopMatrix();

        if(toggleSpotLight)
            spotlight.enableSpot(gl);
        else
            spotlight.disableSpot(gl);

    }   
    //BODY
    public void drawBody(GL gl){
        bodyTexture.enable();
        bodyTexture.bind();
        GLUquadric body = glu.gluNewQuadric();
        glu.gluQuadricTexture(body, true); 
        glu.gluSphere(body, 0.5,30,10); 
        glu.gluQuadricTexture(body, false);
        bodyTexture.disable();

    }

    //ROTOR_KNOB
    public void rotorKnob(GL gl){
        gl.glColor3f(1, 1, 1);
        gl.glTranslated(0, .675, 0);
        gl.glRotated(90, 1 , 0 , 0);

        bodyTexture.enable();
        bodyTexture.bind();
        GLUquadric body = glu.gluNewQuadric();
        glu.gluQuadricTexture(body, true); 
        glu.gluCylinder(body, 0.05, 0.1, 0.2, 15, 5);
        glu.gluQuadricTexture(body, false);
        bodyTexture.disable();
    }

    //LEGS
    public void drawRightLeg(GL gl){
        gl.glColor3f(.2f, .15f, 0f);
        gl.glTranslated(0, -0.4 , 0);
        gl.glRotated(90, 0, 1 , 0);
        gl.glRotated(45, 1 , 0 , 0);
        GLUquadric body = glu.gluNewQuadric();
        glu.gluCylinder(body, .05, .05, .5, 25, 5);

    }

    public void drawLeftLeg(GL gl){
        gl.glColor3f(.2f, .15f, 0f);
        gl.glTranslated(0, -0.4 , 0);
        gl.glRotated(270, 0, 1 , 0);
        gl.glRotated(45, 1 , 0 , 0);
        GLUquadric body = glu.gluNewQuadric();
        glu.gluCylinder(body, .05, .05, .5, 25, 5);

    }
    //FEET
    public void drawRightFoot(GL gl){
        gl.glColor3f(1,1,1);
        gl.glTranslated(0.35, -0.75, 0);
        gl.glScaled(0.075,.075, 1);
        bodyTexture.enable();
        bodyTexture.bind();
        glut.glutSolidCube(1);  
        bodyTexture.disable();

    }

    public void drawLeftFoot(GL gl){
        gl.glColor3f(1,1,1);
        gl.glTranslated(-0.35, -0.75, 0);
        gl.glScaled(0.075,.075, 1);
        bodyTexture.enable();
        bodyTexture.bind();
        glut.glutSolidCube(1);  
        bodyTexture.disable();

    }

    //NOSE
    public void drawNose(GL gl){
        gl.glTranslated(0, 0, -0.3);
        bodyTexture.enable();
        bodyTexture.bind();
        GLUquadric body = glu.gluNewQuadric();
        glu.gluQuadricTexture(body, true);
        glu.gluCylinder(body, 0.4, 0, -.5, 25, 5);  
        glu.gluQuadricTexture(body, false);
        bodyTexture.disable();

    }

    //TAIL
    public void drawTail(GL gl){
        gl.glTranslated(0, 0, .4);
        bodyTexture.enable();
        bodyTexture.bind();
        GLUquadric body = glu.gluNewQuadric();
        glu.gluQuadricTexture(body, true);
        glu.gluCylinder(body, 0.25, 0.1, 2, 15, 5);
        glu.gluQuadricTexture(body, false);
        bodyTexture.disable();

    }

    //TAIL FIN
    public void drawTailFin(GL gl){
        gl.glTranslated(0, 0.1, 2.3);
        gl.glScaled(0.1,.6,0.2);
        bodyTexture.enable();
        bodyTexture.bind();
        glut.glutSolidCube(1);  
        bodyTexture.disable();
    }

    //TAIL ROTOR KNOB
    public void drawTailRotorKnob(GL gl){
        gl.glTranslated(0.0, 0, 2.3);
        gl.glRotated(90, 0 , 1 , 0);
        bodyTexture.enable();
        bodyTexture.bind();
        GLUquadric body = glu.gluNewQuadric();
        glu.gluQuadricTexture(body, true); 
        glu.gluCylinder(body, 0.08, 0.025, 0.2, 15, 5);
        glu.gluQuadricTexture(body, false);
        bodyTexture.disable();


    }

    //TAIL PLUG
    public void drawTailPlug(GL gl){

        gl.glTranslated(0, 0.0, 2.4);   
        bodyTexture.enable();
        bodyTexture.bind();
        GLUquadric body = glu.gluNewQuadric();
        glu.gluQuadricTexture(body, true);
        glu.gluSphere(body, .1,30,10);  
        glu.gluQuadricTexture(body, false);
        bodyTexture.disable();
    }

}
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>